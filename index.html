<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link rel="stylesheet" href="/assets/style.css" />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@4.2.1/dist/css/bootstrap.min.css"
      integrity="sha384-GJzZqFGwb1QTTN6wy59ffF1BuGJpLSa9DkKMp0DgiMDm4iYMj70gZWKYbI706tWS"
      crossorigin="anonymous"
    />
    <title>Find a Course</title>
    <script
      type="text/javascript"
      src="https://maps.googleapis.com/maps/api/js?key=AIzaSyApK7DLknqC8rExuFY8t0LqDQT-6HBGeMw&libraries=places"
    ></script>
    <script
      defer
      src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js"
    ></script>
  </head>
  <body x-data x-bind:class="$store.global.state.granted ? '' : 'modal-open'" >
    <header class="hero">
      <div class="container text-center">
        <h1 class="app-title">How Far is...</h1>
      </div>
    </header>
    <div class="container" style="height: calc(100vh - 48px)">
      <div class="row justify-content-center h-100 align-items-center">
        <div class="col col-lg-6">
          <input type="text" id="search" name="search" class="form-control mb-4" />
          <div class="card">
            <img
              x-data
              :src="$store.global.state.place.image.src"
              class="card-img-top"
              alt="..."
            />
            <div class="card-body">
              <h5 class="card-title" x-data x-text="$store.global.state.place.name"></h5>
              <p class="card-text" x-data x-text="$store.global.state.place.formattedAddress"></p>
              <p class="card-text" x-data x-text="$store.global.calculateDistance()"></p>
              <a
                x-data
                class="btn btn-primary"
                x-show="$store.global.state.place.url"
                x-bind:href="$store.global.state.place.url"
                target="_blank"
              >
                Go to maps
              </a>

            </div>
          </div>
        </div>
      </div>
      <footer class="footer">Copyright 2022</footer>
    </div>
    <div
      x-data
      x-bind:class="$store.global.state.granted ? 'd-none' : 'show'"
      class="modal fade" id="staticBackdropLive" style="padding-right: 15px; display: block; background-color: rgba(0, 0, 0, 0.8)">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title">Welcome</h5>
          </div>
          <div class="modal-body">This app requires locaiton permissions. Don't click deny, pinky promise.</div>
          <div class="modal-footer">
            <button
              type="button"
              class="btn btn-secondary"
              x-on:click="$store.global.denyPermissions()"
            >
              No, I dont like fun.
            </button>
            <button
              type="button"
              class="btn btn-primary"
              x-on:click="$store.global.acceptPermissions()"
            >
              Lets swing em bruh...
            </button>
          </div>
        </div>
      </div>
    </div>
    <script type="text/javascript" src="/assets/scripts/main.js"></script>
  </body>
</html>
